<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<div>
  <h3 style="text-align:center;">Kvar</h3>
</div>
<head>
    <style>
    table, th, td {
      border-right: 2px solid rgb(208, 236, 197);
      border-bottom: 2px solid rgb(208, 236, 197);
    }
    th,td{
      font-weight: bold;
    }
    </style>
    <body style="background-color:rgb(207, 134, 66);"></body>
  </head>
<div>
  <form>
    <div class="form-group">
      <label for="field1c" class="form-control-label">Redni broj</label>
        <input type="text" [(ngModel)]="kvar.id" placeholder=id 
        class="form-control" id="field1c" name="field1">
    </div>
    <div class="form-group">
        <label for="field1c" class="form-control-label">Ime</label>
          <input type="text" [(ngModel)]="kvar.ime" placeholder="Name" 
          class="form-control" id="field2c" name="field2">
    </div>
    <div class="form-group">
        <label for="field1c" class="form-control-label">Opis</label>
          <input type="text" [(ngModel)]="kvar.opis" placeholder="Opis" 
          class="form-control" id="field3c" name="field3">
      </div>
      <div class="form-group">
          <div class="input-group">
              <label for="field1c" class="form-control-label">Datum kreiranja</label>
            <input class="form-control" placeholder="yyyy-mm-dd" name="dp1" [(ngModel)]="ngbDatKreiranja" 
              ngbDatepicker #d1="ngbDatepicker">
            <button class="input-group-addon" (click)="d1.toggle()" type="button">
            <i class="fa fa-calendar" style="width: 1.2rem; height: 1rem; cursor: pointer;"> </i> 
          </button>
          </div>
        </div>
    <div class="form-group">
          <div class="input-group">
              <label for="field1c" class="form-control-label">Datum zakazivanja</label>
            <input class="form-control" placeholder="yyyy-mm-dd" name="dp2" [(ngModel)]="ngbDatZakazivanja" 
              ngbDatepicker #d2="ngbDatepicker">
            <button class="input-group-addon" (click)="d2.toggle()" type="button">
            <i class="fa fa-calendar" style="width: 1.2rem; height: 1rem; cursor: pointer;"> </i> 
          </button>
          </div>
        </div>
        <div class="form-group">
            <div class="input-group">
                <label for="field1c" class="form-control-label">Datum popravke</label>
              <input class="form-control" placeholder="yyyy-mm-dd" name="dp3" [(ngModel)]="ngbDatPopravke" 
                ngbDatepicker #d3="ngbDatepicker">
              <button class="input-group-addon" (click)="d3.toggle()" type="button">
              <i class="fa fa-calendar" style="width: 1.2rem; height: 1rem; cursor: pointer;"> </i> 
            </button>
            </div>
          </div>
        <div class="form-group">
            <label for="field1c" class="form-control-label">Kreator</label>
              <input type="text" [(ngModel)]="kvar.kreator.korisIme" placeholder="kreator" 
              class="form-control" id="field7c" name="field7">
          </div>
          <div class="form-group">
              <label for="field1c" class="form-control-label">Zgrada</label>
                <input type="text" [(ngModel)]="kvar.zgrada.id" placeholder="zgrada" 
                class="form-control" id="field8c" name="field8">
            </div>
      
    
</form>
<div *ngIf="kvar.id">
    <div>
      <h3 style="text-align:center">Komentari</h3>
      <button type="button" class="btn btn-primary" aria-label="Add" (click)="gotoAddKomentar()">
          <span class="fa fa-plus" aria-hidden="true" style="font-size:18px;color:darkgreen"></span>
      </button>
    </div>
    <table class="table table-bordered">
      <tr>
          <th>Id</th>
          <th>Text</th>
          <th>Datum kreiranja</th>
          <th>Kreator</th>
      </tr>      
      <tr *ngFor="let komentar of komentari">
          <td>{{komentar.id}}</td>
          <td>{{komentar.text}}</td>
          <td>{{komentar.datKreiranja  | date: 'dd.MM.yyyy'}}</td>
          <td>{{komentar.kreator.korisIme}}</td>
          <td>
              <button type="button" class="btn btn-primary"  aria-label="Edit" (click)="gotoEditKomentar(komentar)">
                <span class="fa fa-edit" aria-hidden="true" style="font-size:18px;color:darkgreen"></span>
              </button>  
            </td>
            <td>
              <button type="button" class="btn btn-primary right" aria-label="Delete" (click)="deleteKomentar(komentar.id)">
                <span class="fa fa-remove" aria-hidden="true" style="font-size:18px;color:darkgreen"></span>
              </button>
            </td>
      </tr>
    </table>   
  </div>
</div>
 
<div>
  <button class="btn btn-primary" (click)="save()" style="font-size:18px;color:darkgreen">OK</button>
  <button class="btn btn-primary" (click)="goBack()" style="font-size:18px;color:darkgreen">Cancel</button>
</div>